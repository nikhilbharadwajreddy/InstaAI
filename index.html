<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram DM Automation Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">

</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="assets/images/logo.png" alt="Logo" class="logo">
                <h2>Insta<span>AI</span></h2>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active" data-tab="dashboard"><i class="fas fa-chart-line"></i> Dashboard</li>
                    <li data-tab="messages"><i class="fas fa-comment-dots"></i> Messages</li>
                    <li data-tab="comments"><i class="fas fa-comments"></i> Comments</li>
                    <li data-tab="automation"><i class="fas fa-robot"></i> Automation</li>
                    <li data-tab="settings"><i class="fas fa-cog"></i> Settings</li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="account-info">
                    <img src="https://via.placeholder.com/40" alt="Profile" id="profile-img" class="profile-img">
                    <div class="account-details">
                        <span id="account-name">Not Connected</span>
                        <span id="account-status" class="status">Offline</span>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="topbar">
                <div id="login-section">
                    <button id="loginBtn" class="btn primary-btn"><i class="fab fa-instagram"></i> Connect Instagram</button>
                </div>
                <div class="user-actions">
                    <button id="refreshData" class="icon-btn"><i class="fas fa-sync-alt"></i></button>
                    <div class="notifications">
                        <i class="fas fa-bell"></i>
                        <span class="badge">0</span>
                    </div>
                </div>
            </header>
            
            <!-- Content Sections - Each will be shown/hidden with JS -->
            <section id="dashboard-section" class="content-section active">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <p class="last-updated">Last updated: <span id="last-updated-time">Never</span></p>
                </div>
                
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-comment-dots"></i></div>
                        <div class="stat-info">
                            <h3>Total Messages</h3>
                            <p id="total-messages">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-reply"></i></div>
                        <div class="stat-info">
                            <h3>Auto Replies</h3>
                            <p id="auto-replies">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-comment"></i></div>
                        <div class="stat-info">
                            <h3>Comments</h3>
                            <p id="total-comments">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-user"></i></div>
                        <div class="stat-info">
                            <h3>Unique Users</h3>
                            <p id="unique-users">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card recent-activity">
                        <h3>Recent Activity</h3>
                        <div id="activity-feed" class="activity-feed">
                            <p class="empty-state">No recent activity</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-card automation-status">
                        <h3>Automation Status</h3>
                        <div class="status-indicator">
                            <div class="toggle-container">
                                <label class="toggle">
                                    <input type="checkbox" id="automation-toggle">
                                    <span class="slider"></span>
                                </label>
                                <span id="automation-status">Inactive</span>
                            </div>
                        </div>
                        <div class="settings-summary">
                            <div class="setting-item">
                                <span>Response Time:</span>
                                <span id="response-time">Instant</span>
                            </div>
                            <div class="setting-item">
                                <span>AI Model:</span>
                                <span id="ai-model">GPT-3.5</span>
                            </div>
                            <div class="setting-item">
                                <span>Active Templates:</span>
                                <span id="active-templates">1</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="messages-section" class="content-section">
                <div class="section-header">
                    <h1>Messages</h1>
                    <div class="section-actions">
                        <input type="text" placeholder="Search messages..." class="search-input">
                        <button class="btn secondary-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>
                </div>
                
                <div class="messages-container">
                    <div class="messages-sidebar">
                        <div class="conversations-header">
                            <h3>Conversations</h3>
                            <button class="icon-btn"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                        <div id="conversations-list" class="conversations-list">
                            <p class="empty-state">No conversations yet</p>
                        </div>
                    </div>
                    
                    <div class="conversation-view">
                        <div class="conversation-header">
                            <div class="conversation-info">
                                <img src="https://via.placeholder.com/40" alt="User" class="user-img">
                                <div>
                                    <h3 id="current-conversation">Select a conversation</h3>
                                    <p id="conversation-status">No active conversation</p>
                                </div>
                            </div>
                            <div class="conversation-actions">
                                <button class="icon-btn"><i class="fas fa-info-circle"></i></button>
                            </div>
                        </div>
                        
                        <div id="messages-list" class="messages-list">
                            <div class="empty-conversation">
                                <i class="fas fa-comments"></i>
                                <p>Select a conversation to view messages</p>
                            </div>
                        </div>
                        
                        <div class="message-input-container">
                            <textarea id="message-input" placeholder="Type a message..." disabled></textarea>
                            <button id="send-message" class="icon-btn" disabled><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="comments-section" class="content-section">
                <div class="section-header">
                    <h1>Comments</h1>
                    <div class="section-actions">
                        <input type="text" placeholder="Search comments..." class="search-input">
                        <button class="btn secondary-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>
                </div>
                
                <div class="comments-container">
                    <table class="comments-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Comment</th>
                                <th>Post</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="comments-table-body">
                            <tr>
                                <td colspan="5" class="empty-state">No comments found</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <section id="automation-section" class="content-section">
                <div class="section-header">
                    <h1>Automation Settings</h1>
                </div>
                
                <div class="automation-container">
                    <div class="automation-card">
                        <h3>General Settings</h3>
                        
                        <div class="setting-group">
                            <label for="response-delay">Response Delay</label>
                            <select id="response-delay">
                                <option value="instant">Instant</option>
                                <option value="1min">1 minute</option>
                                <option value="5min">5 minutes</option>
                                <option value="1hour">1 hour</option>
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label for="ai-model-select">AI Model</label>
                            <select id="ai-model-select">
                                <option value="gpt3.5">GPT-3.5 Turbo</option>
                                <option value="gpt4">GPT-4</option>
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label>Auto-Respond To</label>
                            <div class="checkbox-group">
                                <label class="checkbox">
                                    <input type="checkbox" id="respond-messages" checked>
                                    <span>Direct Messages</span>
                                </label>
                                <label class="checkbox">
                                    <input type="checkbox" id="respond-comments">
                                    <span>Comments</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="automation-card">
                        <h3>Response Templates</h3>
                        <p class="subtitle">Configure how your AI will respond to different types of messages.</p>
                        
                        <div class="templates-container">
                            <div class="template-item">
                                <div class="template-header">
                                    <h4>Default Response</h4>
                                    <div class="toggle-small">
                                        <input type="checkbox" id="template-default" checked>
                                        <label for="template-default"></label>
                                    </div>
                                </div>
                                <textarea id="template-default-text" class="template-text">Thank you for your message! I'll get back to you as soon as possible.</textarea>
                            </div>
                            
                            <div class="template-item">
                                <div class="template-header">
                                    <h4>Question Response</h4>
                                    <div class="toggle-small">
                                        <input type="checkbox" id="template-question" checked>
                                        <label for="template-question"></label>
                                    </div>
                                </div>
                                <textarea id="template-question-text" class="template-text">Thanks for your question! I'll look into this and get back to you shortly.</textarea>
                            </div>
                            
                            <button id="add-template" class="btn secondary-btn">+ Add Template</button>
                        </div>
                    </div>
                    
                    <div class="automation-card">
                        <h3>AI Prompt Configuration</h3>
                        <p class="subtitle">Customize how the AI generates responses</p>
                        
                        <div class="setting-group">
                            <label for="ai-tone">Tone</label>
                            <select id="ai-tone">
                                <option value="friendly">Friendly</option>
                                <option value="professional">Professional</option>
                                <option value="casual">Casual</option>
                                <option value="formal">Formal</option>
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label for="ai-personality">Personality</label>
                            <input type="text" id="ai-personality" placeholder="e.g., Helpful, informative, concise">
                        </div>
                        
                        <div class="setting-group">
                            <label for="ai-instructions">Special Instructions</label>
                            <textarea id="ai-instructions" placeholder="Enter any special instructions for the AI..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="save-automation" class="btn primary-btn">Save Settings</button>
                    <button id="test-automation" class="btn secondary-btn">Test Response</button>
                </div>
            </section>
            
            <section id="settings-section" class="content-section">
                <div class="section-header">
                    <h1>Account Settings</h1>
                </div>
                
                <div class="settings-container">
                    <div class="settings-card">
                        <h3>Instagram Account</h3>
                        <div class="account-status-container">
                            <div id="connected-account">
                                <p>Status: <span id="connection-status" class="status-indicator">Not Connected</span></p>
                                <p>Account: <span id="instagram-username">N/A</span></p>
                                <p>Connected since: <span id="connected-since">N/A</span></p>
                            </div>
                            
                            <button id="disconnect-instagram" class="btn danger-btn" disabled>Disconnect</button>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Notifications</h3>
                        <div class="setting-group">
                            <label class="checkbox">
                                <input type="checkbox" id="notify-new-message">
                                <span>New Message Notifications</span>
                            </label>
                        </div>
                        <div class="setting-group">
                            <label class="checkbox">
                                <input type="checkbox" id="notify-comments">
                                <span>Comment Notifications</span>
                            </label>
                        </div>
                        <div class="setting-group">
                            <label class="checkbox">
                                <input type="checkbox" id="notify-failures">
                                <span>Failure Notifications</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>API Keys</h3>
                        <div class="setting-group">
                            <label for="openai-key">OpenAI API Key</label>
                            <div class="api-key-input">
                                <input type="password" id="openai-key" placeholder="Enter OpenAI API Key">
                                <button class="icon-btn toggle-password"><i class="fas fa-eye"></i></button>
                            </div>
                        </div>
                        <button id="save-api-keys" class="btn secondary-btn">Save Keys</button>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Modals -->
    <div id="template-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Template</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="template-name">Template Name</label>
                    <input type="text" id="template-name" placeholder="e.g., Product Inquiry">
                </div>
                <div class="form-group">
                    <label for="template-trigger">Trigger Words/Phrases</label>
                    <input type="text" id="template-trigger" placeholder="e.g., price, cost, how much">
                </div>
                <div class="form-group">
                    <label for="template-response">Response Template</label>
                    <textarea id="template-response" placeholder="Enter your response template..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-template" class="btn primary-btn">Save Template</button>
                <button class="btn secondary-btn close-modal">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Import JavaScript modules -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Force login button visibility -->
    <script>
        window.addEventListener('load', function() {
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.style.display = 'block';
                console.log("Login button forced visible on page load");
            }
        });
    </script>
</body>
</html>